import{r as a,c as w,a as d,b as e,w as i,d as b,e as C,v as u,f as x,g as k,h as y,o as c,i as _}from"./index-Drwx44IE.js";import{a as V}from"./index-NIGUFBhG.js";const h={id:"signUpPage",class:"bg-yellow"},U={class:"conatiner signUpPage vhContainer"},q={class:"formControls",action:"index.html"},N={key:0},B="https://todolist-api.hexschool.io",I={__name:"SignUpView",setup(P){const n=a(""),l=a(""),p=a(""),t=a("");a({email:"",password:"",nickname:""});const m=w(()=>l.value!=""&&t.value!=""&&l.value!==t.value),v=y(),g=async()=>{if(m)try{const r=await V.post(`${B}/users/sign_up`,{email:n.value,password:l.value,nickname:p.value});alert("註冊成功"),l.value="",t.value="",await v.push("/")}catch(r){alert("註冊失敗"),console.log(r),console.log(r.request.response),console.log(n.value),l.value="",t.value=""}};return(r,o)=>{const f=k("router-link");return c(),d("div",h,[e("div",U,[o[10]||(o[10]=e("div",{class:"side"},[e("a",{href:"#"},[e("img",{class:"logoImg",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/logo.png",alt:""})]),e("img",{class:"d-m-n",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/img.png",alt:"workImg"})],-1)),e("div",null,[e("form",q,[o[5]||(o[5]=e("h2",{class:"formControls_txt"},"註冊帳號",-1)),o[6]||(o[6]=e("label",{class:"formControls_label",for:"email"},"Email",-1)),i(e("input",{class:"formControls_input",type:"text",id:"email",name:"email",placeholder:"請輸入 email",required:"","onUpdate:modelValue":o[0]||(o[0]=s=>n.value=s)},null,512),[[u,n.value]]),o[7]||(o[7]=e("label",{class:"formControls_label",for:"name"},"您的暱稱",-1)),i(e("input",{class:"formControls_input",type:"text",name:"name",id:"name",placeholder:"請輸入您的暱稱","onUpdate:modelValue":o[1]||(o[1]=s=>p.value=s)},null,512),[[u,p.value]]),o[8]||(o[8]=e("label",{class:"formControls_label",for:"pwd"},"密碼",-1)),i(e("input",{class:"formControls_input",type:"password",name:"pwd",id:"pwd",placeholder:"請輸入密碼",required:"","onUpdate:modelValue":o[2]||(o[2]=s=>l.value=s)},null,512),[[u,l.value]]),o[9]||(o[9]=e("label",{class:"formControls_label",for:"pwd"},"再次輸入密碼",-1)),i(e("input",{class:"formControls_input",type:"password",name:"pwd",id:"pwd",placeholder:"請再次輸入密碼",required:"","onUpdate:modelValue":o[3]||(o[3]=s=>t.value=s)},null,512),[[u,t.value]]),m.value?(c(),d("span",N,"與密碼不同")):b("",!0),e("input",{class:"formControls_btnSubmit",type:"button",value:"註冊帳號",onClick:g}),C(f,{to:"/",class:"formControls_btnLink"},{default:x(()=>[...o[4]||(o[4]=[_("返回登入頁面",-1)])]),_:1})])])])])}}};export{I as default};
